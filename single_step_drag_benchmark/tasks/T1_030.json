{
  "id": "T1_030",
  "category": "T1",
  "instruction": "Drag the free stack that starts with an 'if then' block and attach it directly below the existing 'if then' block inside the 'forever' loop.",
  "init_project": "T1_030.sb3",
  "evaluation_config": {
    "target_block_opcode": "control_if",
    "target_block_id": "ykZ$i1+Cp}:(#)zf_Z~z",
    "reference_block_id": ":{ih6cy|9b=ptpA6)a5~",
    "connection_type": "next",
    "target_input_name": null,
    "description": "Drag the stack starting with the 'if then' block from the flyout to connect below the existing 'if then' block.",
    "reference_block_opcode": "control_if",
    "switch_sprite_actions": [
      {
        "api": "click",
        "args": {
          "x": 1071,
          "y": 492
        }
      }
    ],
    "seed_point": [
      447,
      414
    ],
    "pan_canvas_actions": [
      {
        "api": "custom_js",
        "args": {
          "fn": "\n({ ws, payload }) => {\n    if (!ws) return { success: false, error: \"Workspace not available\" };\n    // dx, dy 是屏幕像素偏移量（正值表示内容应该向右/向下移动）\n    const dx = (payload && payload.dx) || 0;\n    const dy = (payload && payload.dy) || 0;\n    const scale = ws.scale || 1;\n    \n    const canvas = ws.getCanvas();\n    if (!canvas) return { success: false, error: \"Cannot get canvas\" };\n    \n    // 获取当前的 transform\n    const currentTransform = canvas.getAttribute('transform') || '';\n    \n    // 解析当前的 translate 值\n    let currentTx = 0, currentTy = 0;\n    const translateMatch = currentTransform.match(/translate\\(([^,]+),\\s*([^)]+)\\)/);\n    if (translateMatch) {\n        currentTx = parseFloat(translateMatch[1]) || 0;\n        currentTy = parseFloat(translateMatch[2]) || 0;\n    }\n    \n    // 在当前基础上增加 dx, dy（屏幕像素偏移）\n    const newTx = currentTx + dx;\n    const newTy = currentTy + dy;\n    \n    // 设置新的 transform（保持原来的 scale）\n    const newTransform = 'translate(' + newTx + ',' + newTy + ') scale(' + scale + ')';\n    canvas.setAttribute('transform', newTransform);\n    \n    // 同时更新 bubble canvas（气泡层）\n    const bubbleCanvas = ws.getBubbleCanvas();\n    if (bubbleCanvas) {\n        bubbleCanvas.setAttribute('transform', newTransform);\n    }\n    \n    // 更新 scrollX/scrollY 以保持内部状态一致\n    // scrollX = -translateX / scale\n    ws.scrollX = -newTx / scale;\n    ws.scrollY = -newTy / scale;\n    \n    return { \n        success: true, \n        mode: \"direct_svg_transform\",\n        inputDx: dx, inputDy: dy,\n        currentTransform,\n        currentTx, currentTy,\n        newTx, newTy,\n        newTransform,\n        newScrollX: ws.scrollX, \n        newScrollY: ws.scrollY,\n        scale\n    };\n}\n",
          "payload": {
            "dx": -399.97601318359375,
            "dy": -119.10002136230469
          }
        }
      }
    ],
    "workspace_state": {
      "tx": -341.47601318359375,
      "ty": -119.10002136230469,
      "scale": 0.675,
      "scrollX": 505.8903899016203,
      "scrollY": 176.44447609230323,
      "transform": "translate(-341.47601318359375,-119.10002136230469) scale(0.675)"
    },
    "target_stack_tail_block_id": "ykZ$i1+Cp}:(#)zf_Z~z",
    "drag_start_point": [
      652,
      388
    ],
    "first_valid_point": [
      462,
      389
    ],
    "feasible_points": [
      [
        462,
        389
      ],
      [
        467,
        389
      ],
      [
        462,
        394
      ],
      [
        457,
        389
      ],
      [
        462,
        384
      ],
      [
        472,
        389
      ],
      [
        467,
        394
      ],
      [
        467,
        384
      ],
      [
        462,
        399
      ],
      [
        457,
        384
      ],
      [
        457,
        394
      ],
      [
        452,
        389
      ],
      [
        462,
        379
      ],
      [
        477,
        389
      ],
      [
        472,
        394
      ],
      [
        472,
        384
      ],
      [
        467,
        399
      ],
      [
        467,
        379
      ],
      [
        462,
        404
      ],
      [
        457,
        399
      ],
      [
        452,
        384
      ],
      [
        452,
        394
      ],
      [
        462,
        374
      ],
      [
        457,
        379
      ],
      [
        447,
        389
      ],
      [
        477,
        394
      ],
      [
        482,
        389
      ],
      [
        477,
        384
      ],
      [
        472,
        379
      ],
      [
        472,
        399
      ],
      [
        467,
        374
      ],
      [
        467,
        404
      ],
      [
        457,
        404
      ],
      [
        447,
        384
      ],
      [
        452,
        399
      ],
      [
        452,
        379
      ],
      [
        447,
        394
      ],
      [
        457,
        374
      ],
      [
        462,
        369
      ],
      [
        442,
        389
      ],
      [
        477,
        399
      ],
      [
        482,
        394
      ],
      [
        477,
        379
      ],
      [
        482,
        384
      ],
      [
        487,
        389
      ],
      [
        472,
        374
      ],
      [
        467,
        369
      ],
      [
        452,
        404
      ],
      [
        472,
        404
      ],
      [
        442,
        384
      ],
      [
        447,
        379
      ],
      [
        447,
        399
      ],
      [
        452,
        374
      ],
      [
        457,
        369
      ],
      [
        442,
        394
      ],
      [
        462,
        364
      ],
      [
        482,
        399
      ],
      [
        437,
        389
      ],
      [
        477,
        404
      ],
      [
        482,
        379
      ],
      [
        487,
        384
      ],
      [
        487,
        394
      ],
      [
        477,
        374
      ],
      [
        472,
        369
      ],
      [
        467,
        364
      ],
      [
        492,
        389
      ],
      [
        447,
        404
      ],
      [
        437,
        384
      ],
      [
        447,
        374
      ],
      [
        442,
        379
      ],
      [
        442,
        399
      ],
      [
        452,
        369
      ],
      [
        487,
        399
      ],
      [
        457,
        364
      ],
      [
        462,
        359
      ],
      [
        482,
        404
      ],
      [
        437,
        394
      ],
      [
        487,
        379
      ],
      [
        482,
        374
      ],
      [
        492,
        384
      ],
      [
        492,
        394
      ],
      [
        477,
        369
      ],
      [
        467,
        359
      ],
      [
        472,
        364
      ],
      [
        497,
        389
      ],
      [
        447,
        369
      ],
      [
        442,
        374
      ],
      [
        437,
        379
      ],
      [
        452,
        364
      ],
      [
        492,
        399
      ],
      [
        487,
        404
      ],
      [
        457,
        359
      ],
      [
        462,
        354
      ],
      [
        492,
        379
      ],
      [
        497,
        384
      ],
      [
        477,
        364
      ],
      [
        487,
        374
      ],
      [
        482,
        369
      ],
      [
        467,
        354
      ],
      [
        502,
        389
      ],
      [
        442,
        369
      ],
      [
        497,
        394
      ],
      [
        472,
        359
      ],
      [
        437,
        374
      ],
      [
        447,
        364
      ],
      [
        432,
        379
      ],
      [
        452,
        359
      ],
      [
        497,
        379
      ],
      [
        457,
        354
      ],
      [
        477,
        359
      ],
      [
        502,
        384
      ],
      [
        462,
        349
      ],
      [
        492,
        374
      ],
      [
        482,
        364
      ],
      [
        487,
        369
      ],
      [
        472,
        354
      ],
      [
        467,
        349
      ],
      [
        442,
        364
      ],
      [
        437,
        369
      ],
      [
        432,
        374
      ],
      [
        447,
        359
      ],
      [
        462,
        344
      ],
      [
        482,
        359
      ],
      [
        452,
        354
      ],
      [
        502,
        379
      ],
      [
        507,
        384
      ],
      [
        497,
        374
      ],
      [
        477,
        354
      ],
      [
        457,
        349
      ],
      [
        492,
        369
      ],
      [
        487,
        364
      ],
      [
        472,
        349
      ],
      [
        467,
        344
      ],
      [
        437,
        364
      ],
      [
        442,
        359
      ],
      [
        432,
        369
      ],
      [
        452,
        349
      ],
      [
        447,
        354
      ],
      [
        457,
        344
      ],
      [
        482,
        354
      ],
      [
        487,
        359
      ],
      [
        507,
        379
      ],
      [
        502,
        374
      ],
      [
        497,
        369
      ],
      [
        477,
        349
      ],
      [
        492,
        364
      ],
      [
        472,
        344
      ],
      [
        437,
        359
      ],
      [
        452,
        344
      ],
      [
        442,
        354
      ],
      [
        482,
        349
      ],
      [
        447,
        349
      ],
      [
        487,
        354
      ],
      [
        492,
        359
      ],
      [
        507,
        374
      ],
      [
        502,
        369
      ],
      [
        497,
        364
      ],
      [
        437,
        354
      ],
      [
        447,
        344
      ],
      [
        442,
        349
      ],
      [
        487,
        349
      ],
      [
        507,
        369
      ],
      [
        497,
        359
      ],
      [
        492,
        354
      ],
      [
        502,
        364
      ],
      [
        447,
        339
      ],
      [
        497,
        354
      ],
      [
        507,
        364
      ],
      [
        442,
        344
      ],
      [
        492,
        349
      ],
      [
        502,
        359
      ],
      [
        502,
        354
      ]
    ],
    "feasible_start_points": [
      [
        652,
        388
      ],
      [
        647,
        388
      ],
      [
        652,
        383
      ],
      [
        657,
        388
      ],
      [
        652,
        393
      ],
      [
        642,
        388
      ],
      [
        647,
        393
      ],
      [
        662,
        388
      ],
      [
        657,
        393
      ],
      [
        657,
        383
      ],
      [
        652,
        398
      ],
      [
        637,
        388
      ],
      [
        647,
        398
      ],
      [
        642,
        393
      ],
      [
        662,
        383
      ],
      [
        657,
        378
      ],
      [
        652,
        403
      ],
      [
        632,
        388
      ],
      [
        637,
        383
      ],
      [
        642,
        398
      ],
      [
        637,
        393
      ],
      [
        647,
        403
      ],
      [
        667,
        383
      ],
      [
        662,
        378
      ],
      [
        657,
        403
      ],
      [
        652,
        408
      ],
      [
        627,
        388
      ],
      [
        632,
        383
      ],
      [
        632,
        393
      ],
      [
        637,
        398
      ],
      [
        642,
        403
      ],
      [
        647,
        408
      ],
      [
        657,
        408
      ],
      [
        667,
        378
      ],
      [
        652,
        413
      ],
      [
        627,
        393
      ],
      [
        632,
        398
      ],
      [
        627,
        383
      ],
      [
        637,
        403
      ],
      [
        642,
        408
      ],
      [
        647,
        413
      ],
      [
        657,
        413
      ],
      [
        672,
        378
      ],
      [
        662,
        408
      ],
      [
        652,
        418
      ],
      [
        627,
        398
      ],
      [
        632,
        403
      ],
      [
        627,
        378
      ],
      [
        637,
        408
      ],
      [
        642,
        413
      ],
      [
        647,
        418
      ],
      [
        662,
        413
      ],
      [
        657,
        418
      ],
      [
        677,
        378
      ],
      [
        627,
        403
      ],
      [
        632,
        408
      ],
      [
        637,
        413
      ],
      [
        667,
        413
      ],
      [
        682,
        378
      ],
      [
        662,
        418
      ],
      [
        632,
        413
      ],
      [
        627,
        408
      ],
      [
        687,
        378
      ],
      [
        627,
        413
      ],
      [
        632,
        418
      ],
      [
        692,
        378
      ],
      [
        627,
        418
      ],
      [
        632,
        423
      ],
      [
        697,
        378
      ],
      [
        627,
        423
      ],
      [
        632,
        428
      ],
      [
        702,
        378
      ],
      [
        627,
        428
      ],
      [
        632,
        433
      ],
      [
        707,
        378
      ],
      [
        627,
        433
      ],
      [
        632,
        438
      ],
      [
        712,
        378
      ],
      [
        627,
        438
      ],
      [
        632,
        443
      ],
      [
        717,
        378
      ],
      [
        627,
        443
      ],
      [
        632,
        448
      ],
      [
        722,
        378
      ],
      [
        627,
        448
      ],
      [
        632,
        453
      ],
      [
        727,
        378
      ],
      [
        627,
        453
      ],
      [
        637,
        453
      ],
      [
        632,
        458
      ],
      [
        732,
        378
      ],
      [
        627,
        458
      ],
      [
        642,
        453
      ],
      [
        637,
        458
      ],
      [
        632,
        463
      ],
      [
        737,
        378
      ],
      [
        637,
        463
      ],
      [
        627,
        463
      ],
      [
        642,
        458
      ],
      [
        647,
        453
      ],
      [
        632,
        468
      ],
      [
        742,
        378
      ],
      [
        642,
        463
      ],
      [
        627,
        468
      ],
      [
        637,
        468
      ],
      [
        652,
        453
      ],
      [
        647,
        458
      ],
      [
        747,
        378
      ],
      [
        642,
        468
      ],
      [
        647,
        463
      ],
      [
        637,
        473
      ],
      [
        657,
        453
      ],
      [
        652,
        458
      ],
      [
        752,
        378
      ],
      [
        642,
        473
      ],
      [
        652,
        463
      ],
      [
        647,
        468
      ],
      [
        657,
        458
      ],
      [
        662,
        453
      ],
      [
        757,
        378
      ],
      [
        657,
        463
      ],
      [
        647,
        473
      ],
      [
        652,
        468
      ],
      [
        667,
        453
      ],
      [
        662,
        458
      ],
      [
        762,
        378
      ],
      [
        657,
        468
      ],
      [
        662,
        463
      ],
      [
        672,
        453
      ],
      [
        667,
        458
      ],
      [
        767,
        378
      ],
      [
        662,
        468
      ],
      [
        667,
        463
      ],
      [
        677,
        453
      ],
      [
        672,
        458
      ],
      [
        772,
        378
      ],
      [
        667,
        468
      ],
      [
        672,
        463
      ],
      [
        677,
        458
      ],
      [
        682,
        453
      ],
      [
        777,
        378
      ],
      [
        672,
        468
      ],
      [
        677,
        463
      ],
      [
        682,
        458
      ],
      [
        687,
        453
      ],
      [
        782,
        378
      ],
      [
        677,
        468
      ],
      [
        682,
        463
      ],
      [
        687,
        458
      ],
      [
        692,
        453
      ],
      [
        787,
        378
      ],
      [
        682,
        468
      ],
      [
        687,
        463
      ],
      [
        697,
        453
      ],
      [
        692,
        458
      ],
      [
        787,
        383
      ],
      [
        792,
        378
      ],
      [
        687,
        468
      ],
      [
        692,
        463
      ],
      [
        702,
        453
      ],
      [
        697,
        458
      ],
      [
        792,
        383
      ],
      [
        797,
        378
      ],
      [
        692,
        468
      ],
      [
        697,
        463
      ],
      [
        702,
        458
      ],
      [
        707,
        453
      ],
      [
        792,
        388
      ],
      [
        797,
        383
      ],
      [
        802,
        378
      ],
      [
        697,
        468
      ],
      [
        702,
        463
      ],
      [
        712,
        453
      ],
      [
        707,
        458
      ],
      [
        797,
        388
      ],
      [
        802,
        383
      ],
      [
        807,
        378
      ],
      [
        702,
        468
      ],
      [
        707,
        463
      ],
      [
        717,
        453
      ],
      [
        712,
        458
      ],
      [
        802,
        388
      ],
      [
        807,
        383
      ],
      [
        797,
        393
      ],
      [
        812,
        378
      ],
      [
        707,
        468
      ],
      [
        712,
        463
      ],
      [
        722,
        453
      ],
      [
        717,
        458
      ],
      [
        802,
        393
      ],
      [
        807,
        388
      ],
      [
        817,
        378
      ],
      [
        812,
        383
      ],
      [
        712,
        468
      ],
      [
        727,
        453
      ],
      [
        722,
        458
      ],
      [
        717,
        463
      ],
      [
        807,
        393
      ],
      [
        802,
        398
      ],
      [
        812,
        388
      ],
      [
        817,
        383
      ],
      [
        822,
        378
      ],
      [
        717,
        468
      ],
      [
        727,
        458
      ],
      [
        722,
        463
      ],
      [
        732,
        453
      ],
      [
        812,
        393
      ],
      [
        802,
        403
      ],
      [
        817,
        388
      ],
      [
        807,
        398
      ],
      [
        822,
        383
      ],
      [
        827,
        378
      ],
      [
        722,
        468
      ],
      [
        732,
        458
      ],
      [
        727,
        463
      ],
      [
        737,
        453
      ],
      [
        807,
        403
      ],
      [
        817,
        393
      ],
      [
        812,
        398
      ],
      [
        802,
        408
      ],
      [
        797,
        403
      ],
      [
        822,
        388
      ],
      [
        827,
        383
      ],
      [
        727,
        468
      ],
      [
        732,
        463
      ],
      [
        737,
        458
      ],
      [
        742,
        453
      ],
      [
        812,
        403
      ],
      [
        822,
        393
      ],
      [
        807,
        408
      ],
      [
        797,
        408
      ],
      [
        817,
        398
      ],
      [
        802,
        413
      ],
      [
        827,
        388
      ],
      [
        832,
        383
      ],
      [
        747,
        453
      ],
      [
        732,
        468
      ],
      [
        742,
        458
      ],
      [
        737,
        463
      ],
      [
        817,
        403
      ],
      [
        812,
        408
      ],
      [
        822,
        398
      ],
      [
        827,
        393
      ],
      [
        807,
        413
      ],
      [
        792,
        408
      ],
      [
        797,
        413
      ],
      [
        832,
        388
      ],
      [
        737,
        468
      ],
      [
        752,
        453
      ],
      [
        747,
        458
      ],
      [
        742,
        463
      ],
      [
        817,
        408
      ],
      [
        812,
        413
      ],
      [
        832,
        393
      ],
      [
        827,
        398
      ],
      [
        822,
        403
      ],
      [
        792,
        413
      ],
      [
        742,
        468
      ],
      [
        757,
        453
      ],
      [
        752,
        458
      ],
      [
        832,
        398
      ],
      [
        817,
        413
      ],
      [
        747,
        463
      ],
      [
        822,
        408
      ],
      [
        787,
        413
      ],
      [
        827,
        403
      ],
      [
        747,
        468
      ],
      [
        762,
        453
      ],
      [
        757,
        458
      ],
      [
        752,
        463
      ],
      [
        827,
        408
      ],
      [
        822,
        413
      ],
      [
        832,
        403
      ],
      [
        752,
        468
      ],
      [
        767,
        453
      ],
      [
        762,
        458
      ],
      [
        757,
        463
      ],
      [
        832,
        408
      ],
      [
        827,
        413
      ],
      [
        757,
        468
      ],
      [
        772,
        453
      ],
      [
        767,
        458
      ],
      [
        762,
        463
      ],
      [
        832,
        413
      ],
      [
        762,
        468
      ],
      [
        772,
        458
      ],
      [
        777,
        453
      ],
      [
        767,
        463
      ],
      [
        767,
        468
      ],
      [
        772,
        463
      ],
      [
        777,
        458
      ],
      [
        782,
        453
      ],
      [
        772,
        468
      ],
      [
        777,
        463
      ],
      [
        782,
        458
      ],
      [
        787,
        453
      ],
      [
        777,
        468
      ],
      [
        792,
        453
      ],
      [
        782,
        463
      ],
      [
        787,
        458
      ],
      [
        782,
        468
      ],
      [
        792,
        458
      ],
      [
        797,
        453
      ],
      [
        787,
        463
      ],
      [
        787,
        468
      ],
      [
        792,
        463
      ],
      [
        797,
        458
      ],
      [
        802,
        453
      ],
      [
        792,
        468
      ],
      [
        807,
        453
      ],
      [
        797,
        463
      ],
      [
        802,
        458
      ],
      [
        797,
        468
      ],
      [
        807,
        458
      ],
      [
        802,
        463
      ],
      [
        812,
        453
      ],
      [
        802,
        468
      ],
      [
        807,
        463
      ],
      [
        812,
        458
      ],
      [
        817,
        453
      ],
      [
        807,
        468
      ],
      [
        817,
        458
      ],
      [
        822,
        453
      ],
      [
        812,
        463
      ],
      [
        812,
        468
      ],
      [
        817,
        463
      ],
      [
        822,
        458
      ],
      [
        827,
        453
      ],
      [
        817,
        468
      ],
      [
        822,
        463
      ],
      [
        827,
        458
      ],
      [
        832,
        453
      ],
      [
        822,
        468
      ],
      [
        827,
        463
      ],
      [
        832,
        458
      ],
      [
        827,
        468
      ],
      [
        832,
        463
      ],
      [
        832,
        468
      ]
    ]
  },
  "sprite": "power up"
}